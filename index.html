<!DOCTYPE html>
<html lang="de" class="h-full">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Schweinchen‑Tagebuch 🐷 für Elisa</title>
  <meta name="description" content="Tagebuch von Elisas Kuscheltier-Schweinchen – täglich ein Eintrag mit Bildern und Text." />
  <meta name="theme-color" content="#fde68a">
  <meta property="og:title" content="Schweinis geheimes Tagebuch" />
  <meta property="og:description" content="Jeden Tag neue Bilder und kleine Geschichten vom Kuschelschwein." />
  <meta property="og:type" content="website" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>🐷</text></svg>">
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --bg1:#fff1f2; /* rose-50 */
      --bg2:#fff7ed; /* orange-50 */
      --tint:#f9a8d4; /* pink-300 */
      --ink:#1f2937; /* gray-800 */
    }
    .pretty-bg{ background: radial-gradient(1200px 600px at 10% -10%, var(--bg2), transparent 60%), radial-gradient(1000px 600px at 110% 10%, var(--bg1), transparent 60%), linear-gradient(180deg, #fff, #fff); }
    .dark .pretty-bg{ background: radial-gradient(1200px 600px at 10% -10%, #0f172a, transparent 60%), radial-gradient(1000px 600px at 110% 10%, #1f2937, transparent 60%), linear-gradient(180deg, #111827, #0b1220); }
    .dark body{ color: #e5e7eb; }
    .card{
      border-radius: 1.5rem; /* rounded-3xl */
      box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 8px 10px -6px rgba(0,0,0,0.1); /* shadow-xl */
      background: rgba(255,255,255,0.9); /* bg-white/90 */
      backdrop-filter: blur(8px); /* backdrop-blur */
      padding: 1.25rem; /* ~p-5 on mobile */
      border: 1px solid rgba(255,255,255,0.6); /* border-white/60 */
    }
    @media (min-width:640px){ /* sm: */
      .card{ padding: 2rem; } /* sm:p-8 */
    }
    /* Dark mode: Karten dunkel + Text hell, für bessere Lesbarkeit */
    .dark .card{
      background: rgba(24,24,27,0.9); /* ~zinc-900/90 */
      border-color: rgba(255,255,255,0.08);
      color: #e5e7eb; /* zinc-200 */
    }
    .hover-pop{ transition: transform .2s ease, box-shadow .2s ease; }
    .hover-pop:hover{ transform: translateY(-3px); box-shadow: 0 18px 40px rgba(0,0,0,.08); }
    .prose p { margin: .6rem 0; }
    .fade-in { animation: fade 420ms ease; }
    @keyframes fade{ from{opacity:0; transform: translateY(6px)} to{opacity:1; transform: translateY(0)} }
  </style>
</head>
<body class="h-full pretty-bg text-[16px] sm:text-[17px] text-zinc-800 dark:text-zinc-200" style="font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Quicksand', sans-serif">
  <!-- Hero -->
  <header class="max-w-4xl mx-auto px-3 sm:px-4 pt-6 sm:pt-10 pb-4">
    <div class="flex flex-col items-center gap-3 sm:gap-4 text-center">
      <!-- Schweinchen-Logo (SVG) -->
      <div class="relative">
        <!-- Ersetze images/logo.svg durch dein eigenes Bild (png/jpg/svg) -->
        <img src="images/logo.png" alt="Logo des Schweinchen‑Tagebuchs" class="w-14 h-14 sm:w-20 sm:h-20 rounded-full object-cover drop-shadow" />
      </div>
      <div>
        <h1 class="text-3xl sm:text-4xl font-extrabold tracking-tight">Schweinis geheimes Tagebuch</h1>
        <p class="text-zinc-600 dark:text-zinc-300 mt-1">Ganz geheim, nur für mich 💌</p>
        <p></p>
      </div>
    </div>
    <!-- Quick Actions entfernt -->
  </header>

  <!-- Content -->
  <main id="app" class="max-w-4xl mx-auto px-3 sm:px-4 pb-24">
    <!-- Posts werden per JS gerendert -->
  </main>

  <footer class="border-t bg-white/60 backdrop-blur">
    <div class="max-w-4xl mx-auto px-4 py-6 text-sm text-zinc-600 flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between">
      <span>© <span id="year"></span> Schweinchen für Elisa</span>
      <span>Gemacht mit ❤️ von Papa</span>
    </div>
  </footer>

  <!-- Lightbox Overlay -->
  <div id="lightbox" class="fixed inset-0 hidden items-center justify-center bg-black/70 z-50">
    <button id="lbClose" class="absolute top-4 right-4 text-white/90 text-2xl" aria-label="Schließen">✕</button>
    <img id="lbImg" alt="Großansicht" class="max-h-[88vh] max-w-[92vw] rounded-2xl shadow-2xl" />
  </div>

  <script>
    // ——————————————————————————————
    // KONFIG & POSTS
    const POSTS = [
      // Beispiel – ersetze durch echte Einträge
    { date: "2025-09-09", title: "Elisa schon wieder weg", text: `Meine liebste Elisa ist schon wieder weg. Ich habe so getan, als ob mir das nichts ausmacht, aber ich habe schon über 100 Taschentücher vollgerotzt. Na ja, nachher stecke ich die dem Typen in den Kissenbezug, das wird lustig :D`, images: ["images/tag1_a.jpg","images/tag1_b.jpg"] },
      { date: "2025-09-09", title: "Strandspaziergang mit Sandnase", text: `Ich bin durch warmen Sand getapst. Eine Möwe hat mir ihr Lieblingslied gepfiffen. Danach gab's eine Gurkenstulle. Oink!`, images: ["images/tag2_a.jpg"] }
    ];

    // ——————————————————————————————
    // THEME (hell/dunkel)
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const savedTheme = localStorage.getItem('theme');
    if ((savedTheme === 'dark') || (!savedTheme && prefersDark)) document.documentElement.classList.add('dark');

    // Dark Mode Tweaks
    tailwind.config = {
      theme: { extend: {} },
      darkMode: 'class'
    }
    

    // ——————————————————————————————
    // Hilfsfunktionen
    const fmt = new Intl.DateTimeFormat('de-DE', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });

    function mdLite(text=''){
      // ganz leichtes *kursiv* und **fett**
      return (text||'')
        .replace(/\*\*(.+?)\*\*/g, '<strong>$1<\/strong>')
        .replace(/\*(.+?)\*/g, '<em>$1<\/em>')
        .replace(/\n\n+/g, '</p><p>');
    }

    function renderPost(post){
      const date = new Date(post.date + 'T12:00:00');
      const dateStr = fmt.format(date);
      const title = post.title ? `<h3 class="text-2xl font-semibold mb-2 tracking-tight">${post.title}</h3>` : '';
      const imgs = (post.images||[]).map((src, i)=>`
        <button class="group block focus:outline-none" data-img="${src}">
          <img loading="lazy" src="${src}" alt="Foto ${i+1} zu ${post.title||'Tagebuch'}" class="w-full rounded-2xl shadow hover-pop" />
        </button>
      `).join('');

      return `
        <article class="card fade-in mb-8">
          <div class="flex items-center gap-2 text-sm text-zinc-500 dark:text-zinc-400 mb-1">
            <span>📅 ${dateStr}</span>
          </div>
          ${title}
          <div class="prose max-w-none leading-7"> <p>${mdLite(post.text||'')}</p> </div>
          ${imgs ? `<div class="mt-5 grid grid-cols-1 sm:grid-cols-2 gap-4">${imgs}</div>` : ''}
        </article>
      `;
    }

    function render(posts){
      const root = document.getElementById('app');
      const sorted = [...posts].sort((a,b)=> a.date < b.date ? 1 : -1);
      if (!sorted.length){ root.innerHTML = `<div class='card'><p>Noch keine Einträge – heute starten? ✨</p></div>`; return; }
      root.innerHTML = sorted.map(renderPost).join('\n');
      bindLightbox();
    }

    // Lightbox
    function bindLightbox(){
      const lb = document.getElementById('lightbox');
      const img = document.getElementById('lbImg');
      const close = ()=>{ lb.classList.add('hidden'); img.src=''; }
      document.querySelectorAll('[data-img]').forEach(el=>{
        el.addEventListener('click', ()=>{ img.src = el.getAttribute('data-img'); lb.classList.remove('hidden'); });
      });
      document.getElementById('lbClose').addEventListener('click', close);
      lb.addEventListener('click', (e)=>{ if(e.target===lb) close(); });
      window.addEventListener('keydown', (e)=>{ if (e.key==='Escape') close(); });
    }

    // Hash‑Draft (schnelle Vorschau)
    function parseHashDraft(){
      if (!location.hash) return null;
      const q = new URLSearchParams(location.hash.slice(1));
      if (!q.get('date') && !q.get('text')) return null;
      return { date: q.get('date') || new Date().toISOString().slice(0,10), title: q.get('title')||'', text: q.get('text')||'', images: q.getAll('img') };
    }

    const draft = parseHashDraft();
    const data = draft ? [draft, ...POSTS] : POSTS;
    render(data);

    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Button "Vorlage kopieren" entfernt
  </script>
</body>
</html>
